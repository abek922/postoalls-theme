<div class="look-split-section" style="
  background-color: {{ section.settings.background_color }};
  color: {{ section.settings.text_color }};
  padding-top: {{ section.settings.padding_top }}px;
  padding-bottom: {{ section.settings.padding_bottom }}px;
">
  <div class="page-width">
    <div class="look-split-content layout-{{ section.settings.layout }}">
      <div class="look-split-text">
        {% if section.settings.title != blank %}
          {% assign title_tag = section.settings.heading_tag | default: 'h2' %}
          <{{ title_tag }} class="look-split-title">{{ section.settings.title }}</{{ title_tag }}>
        {% endif %}
        
        {% if section.settings.text != blank %}
          <div class="look-split-description">
            {{ section.settings.text | newline_to_br }}
          </div>
        {% endif %}
        
        {% assign has_products = false %}
        {% for i in (1..8) %}
          {% assign product_key = 'product_' | append: i %}
          {% if section.settings[product_key] != blank %}
            {% assign has_products = true %}
            {% break %}
          {% endif %}
        {% endfor %}
        
        {% if has_products %}
          <div class="look-split-products">
            {% for i in (1..8) %}
              {% assign product_key = 'product_' | append: i %}
              {% assign product = section.settings[product_key] %}
              {% if product != blank %}
                <p class="product-item">
                  <a href="{{ product.url }}" class="product-link">
                    {{ product.title }} {{ product.price | money }}
                  </a>
                </p>
              {% endif %}
            {% endfor %}
          </div>
        {% endif %}
      </div>
      
      <div class="look-split-image">
        {% if section.settings.image != blank %}
          {% assign image_alt = section.settings.image.alt | default: section.settings.title %}
          <img 
            src="{{ section.settings.image | image_url: width: 800 }}"
            srcset="
              {{ section.settings.image | image_url: width: 400 }} 400w,
              {{ section.settings.image | image_url: width: 600 }} 600w,
              {{ section.settings.image | image_url: width: 800 }} 800w,
              {{ section.settings.image | image_url: width: 1000 }} 1000w
            "
            sizes="(max-width: 768px) 100vw, 50vw"
            width="{{ section.settings.image.width }}"
            height="{{ section.settings.image.height }}"
            alt="{{ image_alt }}"
            loading="lazy"
            class="look-split-img"
          >
        {% else %}
          <div class="look-split-placeholder">
            <svg width="60" height="60" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60">
              <rect width="60" height="60" rx="4" fill="currentColor" fill-opacity="0.1"/>
              <rect x="12" y="18" width="36" height="24" rx="2" stroke="currentColor" stroke-width="1.5" fill="none"/>
              <circle cx="22" cy="26" r="3" stroke="currentColor" stroke-width="1.5" fill="none"/>
              <path d="m45 35-5-5-8 8-4-4-3 3" stroke="currentColor" stroke-width="1.5" fill="none"/>
            </svg>
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</div>

<style>
  .look-split-section {
    width: 100%;
  }
  
  .page-width {
    max-width: var(--page-width, 1200px);
    margin: 0 auto;
    padding-left: var(--page-padding, 2rem);
    padding-right: var(--page-padding, 2rem);
  }
  
  @media screen and (max-width: 768px) {
    .page-width {
      padding-left: var(--page-padding-mobile, 1.5rem);
      padding-right: var(--page-padding-mobile, 1.5rem);
    }
  }
  
  @media screen and (max-width: 480px) {
    .page-width {
      padding-left: var(--page-padding-mobile, 1rem);
      padding-right: var(--page-padding-mobile, 1rem);
    }
  }
  
  .look-split-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 60px;
    align-items: center;
    min-height: 500px;
  }
  
  .layout-text_left {
    grid-template-areas: "text image";
  }
  
  .layout-text_left .look-split-text {
    grid-area: text;
  }
  
  .layout-text_left .look-split-image {
    grid-area: image;
  }
  
  .layout-text_right {
    grid-template-areas: "image text";
  }
  
  .layout-text_right .look-split-text {
    grid-area: text;
  }
  
  .layout-text_right .look-split-image {
    grid-area: image;
  }
  
  .look-split-text {
    padding: 20px 0;
  }
  
  .look-split-title {
    margin: 0 0 20px 0;
    line-height: 1.4;
    letter-spacing: 0.02em;
  }
  
  .look-split-description {
    line-height: 1.6;
    margin: 0 0 24px 0;
    opacity: 0.9;
  }
  
  .look-split-products {
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    padding-top: 16px;
  }
  
  .product-item {
    margin: 6px 0;
    opacity: 0.8;
  }
  
  .product-link {
    color: inherit;
    text-decoration: none;
    transition: opacity 0.3s ease;
  }
  
  .product-link:hover {
    opacity: 0.6;
    text-decoration: underline;
  }
  
  .look-split-image {
    position: relative;
    height: 100%;
    min-height: 400px;
  }
  
  .look-split-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 0;
  }
  
  .look-split-placeholder {
    width: 100%;
    height: 400px;
    background-color: #f5f5f5;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #999;
    border: 2px dashed #e0e0e0;
  }
  
  .look-split-placeholder svg {
    opacity: 0.5;
  }
  
  @media screen and (max-width: 768px) {
    .look-split-content {
      grid-template-columns: 1fr;
      gap: 32px;
    }
    
    .layout-text_left,
    .layout-text_right {
      grid-template-areas: 
        "image"
        "text";
    }
    
    .look-split-image {
      min-height: 300px;
    }
  }
  
  @media screen and (max-width: 480px) {
    .look-split-content {
      gap: 24px;
    }
  }
</style>

{% schema %}
{
  "name": "Look Split",
  "settings": [
    {
      "type": "select",
      "id": "layout",
      "label": "Layout",
      "options": [
        {
          "value": "text_left",
          "label": "Text Left, Image Right"
        },
        {
          "value": "text_right",
          "label": "Text Right, Image Left"
        }
      ],
      "default": "text_left"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Layer lightly"
    },
    {
      "type": "select",
      "id": "heading_tag",
      "label": "Heading Style",
      "options": [
        {
          "value": "h1",
          "label": "H1"
        },
        {
          "value": "h2",
          "label": "H2"
        },
        {
          "value": "h3",
          "label": "H3"
        },
        {
          "value": "h4",
          "label": "H4"
        },
        {
          "value": "h5",
          "label": "H5"
        },
        {
          "value": "h6",
          "label": "H6"
        }
      ],
      "default": "h2"
    },
    {
      "type": "textarea",
      "id": "text",
      "label": "Description",
      "default": "Featuring elements of a Harrington jacket, including a dog-ear collar and ribbed hem, this outdoor vest is constructed from recycled nylon taffeta, making it lightweight and comfortable to wear."
    },
    {
      "type": "product",
      "id": "product_1",
      "label": "Product 1"
    },
    {
      "type": "product",
      "id": "product_2",
      "label": "Product 2"
    },
    {
      "type": "product",
      "id": "product_3",
      "label": "Product 3"
    },
    {
      "type": "product",
      "id": "product_4",
      "label": "Product 4"
    },
    {
      "type": "product",
      "id": "product_5",
      "label": "Product 5"
    },
    {
      "type": "product",
      "id": "product_6",
      "label": "Product 6"
    },
    {
      "type": "product",
      "id": "product_7",
      "label": "Product 7"
    },
    {
      "type": "product",
      "id": "product_8",
      "label": "Product 8"
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text Alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "left"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#333333"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 150,
      "step": 10,
      "unit": "px",
      "label": "Padding Top",
      "default": 60
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 150,
      "step": 10,
      "unit": "px",
      "label": "Padding Bottom",
      "default": 60
    }
  ],
  "presets": [
    {
      "name": "Look Split",
      "category": "Look"
    }
  ]
}
{% endschema %}