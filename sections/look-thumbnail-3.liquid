<style>
.enlarge-text {
  margin-bottom: 2rem;
  line-height: 1.6;
}

.enlarge-text p {
  margin-bottom: 1rem;
}

.photoswipe_gallery {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 0;
  margin: 5rem 0 2rem;
}

.photoswipe_gallery figure {
  margin: 0;
  text-align: center;
}

.photoswipe_gallery figure a {
  display: block;
  text-decoration: none;
}

.photoswipe_gallery figure img {
  width: 100%;
  height: auto;
  display: block;
}

.photoswipe_gallery figcaption {
  margin-top: 1rem;
  text-align: left;
  font-size: 10px;
  padding: 0 5px;
}

.icon--placeholder {
  width: 100%;
  height: 300px;
  background: #f5f5f5;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #ccc;
}

@media screen and (max-width: 768px) {
  .photoswipe_gallery {
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin: 2rem 0;
  }
  
  .photoswipe_gallery figure {
    margin: 0;
  }
}
</style>

<div class="page-width">

  {% unless section.settings.section_title == blank %}
  <div class="section-header section-header--small">
    <h2 class="section-header__title">
      {{ section.settings.section_title | escape }}
    </h2>
  </div>
  {% endunless %}

  {%- comment -%}
    シーズン概要
  {%- endcomment -%}
  {% unless section.settings.section_text_1 == blank %}
  <div class="enlarge-text">
    <p>{{ section.settings.section_text_1 | escape }}</p>

    <p>{{ section.settings.section_text_2 | escape }}</p>
  </div>
  {% endunless %}


  <div class="photoswipe_gallery photoswipe_gallery_b">
    {% for block in section.blocks limit: section.blocks.size %}
      {% if block.settings.image != blank %}
      {% assign img_url = block.settings.image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' %}
      <figure {{ block.shopify_attributes }}>
      <a href="{{ block.settings.image | img_url: '1024x' }}" data-size="1200x1500">
      <img class="gallery__image lazyload"
      src="{{ block.settings.image | img_url: '480x600' }}"
      data-src="{{ img_url }}"
      data-widths="[180, 360, 540, 720, 900, 1080, 1296, 1512, 1728, 1944, 2048]"
      data-aspectratio="{{ block.settings.image.aspect_ratio }}"
      data-sizes="auto"
      alt="{{ block.settings.image.alt | escape }}">
      </a>
      <figcaption>{{ block.settings.custom_html }}</figcaption>
      </figure>
      {% else %}
        <div class="grid__item {{ featured_image_width }}" {{ block.shopify_attributes }}>
          {{ 'image' | placeholder_svg_tag: 'icon icon--placeholder' }}
        </div>
      {% endif %}
    {% endfor %}
  </div>
</div>

<script src="{{ 'photoswipe.min.js' | asset_url }}" defer></script>
<script src="{{ 'photoswipe-ui-default.min.js' | asset_url }}" defer></script>
<script src="{{ 'style_photoswipe.js' | asset_url }}" defer></script>
<script src="{{ 'add.js' | asset_url }}" defer></script>

<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
<div class="pswp__bg"></div>
<div class="pswp__scroll-wrap">
	<div class="pswp__container">
	<div class="pswp__item"></div>
	<div class="pswp__item"></div>
	<div class="pswp__item"></div>
	</div>
	<div class="pswp__ui pswp__ui--hidden">
	<div class="pswp__top-bar">
		<div class="pswp__counter"></div>
		<button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
		<button class="pswp__button pswp__button--share" title="Share"></button>
		<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
		<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
		<div class="pswp__preloader">
		<div class="pswp__preloader__icn">
			<div class="pswp__preloader__cut">
			<div class="pswp__preloader__donut"></div>
			</div>
		</div>
		</div>
	</div>
	<div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
		<div class="pswp__share-tooltip"></div>
	</div>
	<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
	<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>
	<div class="pswp__caption">
		<div class="pswp__caption__center"></div>
	</div>
	</div>
</div>
</div>

{% schema %}
{
  "name": "Look",
  "class": "index-section",
  "settings": [
  {
    "type": "text",
    "id": "section_title",
    "label": "Heading",
    "default": "Heading"
  },
  {
    "type": "text",
    "id": "section_text_1",
    "label": "Text",
    "default": "Text"
  },
  {
    "type": "text",
    "id": "section_text_2",
    "label": "Text 2",
    "default": "Text"
  }
  ],
  "max_blocks": 50,
  "blocks": [
    {
      "type": "image",
      "name": "Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Image link"
        },
		{
		  "type": "html",
		  "id": "custom_html",
		  "label": "Caption",
		  "default": "<p></p>"
		}
      ]
    }
  ],
  "presets": [
    {
      "name": "Look Gallery-3",
      "category": "Image",
      "blocks": [
        {
          "type": "image"
        }
      ]
    }
  ]
}
{% endschema %}